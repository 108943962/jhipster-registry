<div id="configuration" *ngIf="allConfiguration && configuration">
    <h2>
        <span>Configuration</span>
        <button class="btn btn-primary" (click)="refresh()">
            <span class="fa fa-refresh"></span>
        </button>
    </h2>

    <div id="routes" class="col-md-5" *ngIf="routes">
        <ul class="list-group">
            <li class="list-group-item {{route.active}}" *ngFor="let route of routes" (click)="showRoute(route)">
                {{route.appName}} {{route.serviceId ? '('+route.serviceId+')' : ''}}
                <span class="badge badge-pill font-weight-normal" [ngClass]="getLabelClassRoute(route)">
                    {{route.status}}
                </span>
            </li>
        </ul>
    </div>

    <p>
        <span>Filter (by prefix)</span> <input type="text" [(ngModel)]="filter" class="form-control">
    </p>
    <label>Spring configuration</label>
    <table id="configs" class="table table-striped table-bordered table-responsive d-table">
        <thead>
        <tr>
            <th class="w-30" (click)="orderProp = 'prefix'; reverse=!reverse"><span>Prefix</span></th>
            <th class="w-90" (click)="orderProp = 'properties'; reverse=!reverse"><span>Properties</span></th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let entry of (configuration | pureFilter:filter:'prefix' | orderBy:orderProp:reverse)">
            <td><span>{{entry.prefix}}</span></td>
            <td>
                <div class="row" *ngFor="let key of keys(entry.properties)">
                    <div class="w-40 break">{{key}}</div>
                    <div class="w-60 break">
                        <span class="float-left badge badge-default break">{{entry.properties[key] | json}}</span>
                    </div>
                </div>
            </td>
        </tr>
        </tbody>
    </table>

    <div id="allConfigs" *ngFor="let key of keys(allConfiguration)">
        <label><span>{{key}}</span></label>
        <table class="table table-sm table-striped table-bordered table-responsive d-table">
            <thead>
            <tr>
                <th class="w-50">Property</th>
                <th class="w-50">Value</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let item of allConfiguration[key]">
                <td class="w-50 break">{{item.key}}</td>
                <td class="w-50 break">
                    <span class="float-left badge badge-default break">{{item.val}}</span>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
